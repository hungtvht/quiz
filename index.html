<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <title>Tr·∫Øc nghi·ªám Agribanker</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <style>
    :root {
  --bg-page: #121212;
  --bg-card: #1e1e1e;
  --text-main: #e0e0e0;
  --text-muted: #8a8a8a;
  --border-color: #2c2c2c;
  --accent: #0d6efd;
  --success: #198754;
  --danger: #dc3545;
}

body {
  background-color: var(--bg-page);
  color: var(--text-main);
  font-family: "Segoe UI", sans-serif;
}

.navbar-tabs .nav-link {
  color: var(--text-muted);
}

.navbar-tabs .nav-link.active {
  color: var(--text-main);
  border-bottom: 2px solid var(--accent);
}

.card {
  background-color: var(--bg-card);
  border: 1px solid var(--border-color);
  border-radius: 8px;
}

.card-body {
  padding: 16px;
}

.answer-option {
  background-color: #2a2a2a;
  border: 1px solid var(--border-color);
  border-radius: 6px;
  padding: 10px 12px;
  margin-top: 8px;
  cursor: pointer;
  color: var(--text-main);
}

.answer-option:hover {
  background-color: #333333;
}

.answer-option.selected {
  background-color: var(--accent);
  color: white;
  border-color: var(--accent);
}

.toolbar {
  padding: 12px;
  background-color: var(--bg-card);
  border: 1px solid var(--border-color);
  border-radius: 8px;
}

.btn-soft {
  background-color: #2a2a2a;
  color: var(--text-main);
  border: 1px solid var(--border-color);
}

.btn-soft:hover {
  background-color: #333333;
}

.table-dark {
  --bs-table-bg: #1e1e1e;
  --bs-table-border-color: var(--border-color);
}

.highlight {
  background-color: var(--success);
  color: white;
  padding: 2px 4px;
  border-radius: 4px;
}

input,
select {
  background-color: #2a2a2a;
  color: var(--text-main);
  border: 1px solid var(--border-color);
}

input:focus,
select:focus {
  outline: none;
  border-color: var(--accent);
  box-shadow: none;
}

  </style>

  <style>
    :root{
      --bg:#0b0d13;
      --surface:#111827;
      --border:#273244;
      --text:#f3f4f6;
      --muted:#cbd5e1;
      --primary:#60a5fa;
      --success:#16a34a;
      --danger:#dc2626;
      --warning:#f59e0b;
    }
    body{background:var(--bg);color:var(--text)}
    .navbar, .navbar-dark, .navbar-light{background:var(--surface)!important}
    .card{background:var(--surface);border-color:var(--border)}
    .list-group-item{background:var(--surface);color:var(--text);border-color:var(--border)}
    .table{color:var(--text)}
    .table thead th{color:var(--text)}
    .table-dark{--bs-table-bg:#101624;--bs-table-striped-bg:#141c2b;--bs-table-striped-color:var(--text)}
    .form-control, .form-select, .form-check-input{
      background:#0f1520!important; color:var(--text)!important; border-color:var(--border)!important;
    }
    .form-control::placeholder{color:#90a4bf}
    .btn{border-radius:12px}
    .btn-outline-light{--bs-btn-color:#e5e7eb;--bs-btn-border-color:#5b6b83;--bs-btn-hover-bg:#1e293b}
    .btn-primary{background:#2563eb;border-color:#1d4ed8}
    .btn-success{background:var(--success)!important;border-color:#15803d!important}
    .btn-danger{background:var(--danger)!important;border-color:#991b1b!important}
    .btn-warning{background:var(--warning)!important;border-color:#b45309!important;color:#111827!important}
    .badge{border-radius:10px}
    .muted, .text-muted{color:var(--muted)!important}
    .answer-btn{white-space:normal;text-align:left}
    .ans-correct{background:#12391f!important;border-color:#14532d!important}
    .ans-wrong{background:#3a1616!important;border-color:#7f1d1d!important}
    #navigator .btn{min-width:42px}
  </style>

  <style>
    /* Improve layout for small screens */
    @media (max-width: 576px){
      :root { --text: #ffffff; --text-muted:#e5e7eb; }
      body { font-size: 16px; }
      .container { padding-left: 14px; padding-right: 14px; }
      .btn { min-height: 44px; }
      .answer-btn { padding: 12px 14px; font-size: 16px; }
      #navigator .btn { min-width: 44px; min-height: 44px; padding: 6px 8px; }
      .form-control, .form-select { font-size: 16px; padding: 10px 12px; }
      .badge { font-size: 0.95rem; }
      .card { margin-bottom: 14px; }
    }
    /* Ensure tables are scrollable horizontally on narrow screens */
    .table-responsive { overflow-x: auto; }
    /* Make buttons wrap nicely */
    .btn-group, .d-flex { flex-wrap: wrap; }
  </style>

  <style>
    img, video { max-width: 100%; height: auto; }
    .w-100-sm { width: 100%; }
  </style>

  <style>
    /* Keep navbar always visible at the bottom */
    #navBar{
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      z-index: 1030;
      display: flex;
    }
    /* Reserve space so content isn't hidden behind the nav */
    body{ padding-bottom: 72px; }
    /* Scroll only the question content area */
    #questionContainer{
      max-height: calc(100vh - 260px);
      overflow-y: auto;
    }
    @media (max-width: 576px){
      body{ padding-bottom: 96px; }
      #questionContainer{ max-height: calc(100vh - 300px); }
    }

    /* === GoTop floating button === */
    #goTopBtn{
      position: fixed;
      color: white;
      right: calc(50vw - 50px);
      bottom: 6px; /* n·∫±m tr√™n thanh nav c·ªë ƒë·ªãnh */
      z-index: 1040;
      display: none; /* ch·ªâ hi·ªán ·ªü tab Th∆∞ vi·ªán */
      border-radius: 999px;
      background: rgba(224, 103, 103, 0.35) !important;
      border: none !important;
    }
    @media (max-width: 576px){
      #goTopBtn{ bottom: 120px; }
    }
  </style>
</head>
<body>
  <div class="container py-1">
    <h3 class="text-center mb-1 fw-bold">Tr·∫Øc nghi·ªám - Quiz</h3>

    <!-- Tabs -->
    <ul class="nav navbar-tabs mb-1" id="mainTabs">
      <li class="nav-item"><a class="nav-link active" href="#" onclick="switchTab('home')">Home</a></li>
      <li class="nav-item"><a class="nav-link" href="#" onclick="switchTab('search')">Th∆∞ vi·ªán c√¢u h·ªèi</a></li>
    </ul>

    <!-- Trang ch·ªß -->
    <div id="homeTab">
      <!-- C·∫•u h√¨nh -->
      <div id="configSection" class="card mb-1">
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-center mb-1">
            <span class="badge-soft text-info">C·∫•u h√¨nh b√†i thi</span>
            <span class="muted">Ch·ªçn s·ªë c√¢u theo t·ª´ng lƒ©nh v·ª±c</span>
          </div>
          <div id="fieldInputs" class="row g-3"></div>
          <div class="text-center mt-3">
            <button class="btn btn-primary me-2" onclick="startPractice()">√în thi</button>
            <button class="btn btn-success" onclick="startExam()">Thi th·∫≠t</button>
          </div>
        </div>
      </div>

      <!-- C√¢u h·ªèi -->
      <div id="quizContainer"></div>

      <!-- Thanh ƒëi·ªÅu h∆∞·ªõng + h√†nh ƒë·ªông (·∫©n tr∆∞·ªõc khi thi) -->
      <div id="navBar" class="toolbar d-flex justify-content-between align-items-center mt-3" style="display:none !important;">
         <div class="d-flex gap-2">
             <button class="btn btn-outline-warning" onclick="confirmExit()">Home</button>
          
         
        </div>
        
        <div class="d-flex gap-2">
          <button class="btn btn-soft" onclick="goPrev()">‚Üê</button>
          <button class="btn btn-soft" onclick="goNext()">‚Üí</button>
        </div>
        <div class="d-flex gap-2">
            <button class="btn btn-danger" onclick="submitQuiz()">N·ªôp b√†i</button>
         </div>
      </div>
    </div>

    <!-- Th∆∞ vi·ªán c√¢u h·ªèi -->
    <div id="searchTab" style="display:none;">
      <div class="card mb-3">
      <div class="card-body p-1">
        <div class="d-flex justify-content-between align-items-center mb-2">
          <span class="badge-soft text-info">Th∆∞ vi·ªán c√¢u h·ªèi</span>
          <span class="muted">G√µ n·ªôi dung c√¢u h·ªèi ho·∫∑c ph∆∞∆°ng √°n</span>
        </div>
        <input id="searchInput" class="form-control bg-dark text-light border-secondary" placeholder="üîç T√¨m ki·∫øm..." oninput="searchQuestions()" />
      </div>
      </div>
      <div id="searchResults"></div>
    </div>
  </div>

  <!-- N√∫t ·∫£o GoTop: focus + select searchInput -->
  <button id="goTopBtn" class="btn fw-semibold" onclick="goTopFocusSearch()" title="Nh·∫£y l√™n √¥ t√¨m ki·∫øm & ch·ªçn s·∫µn">Go top
  </button>

  <script src="quiz.js"></script>
</body>
</html>
